# Maintainer: Christian Neukirchen <chneukirchen@gmail.com>
# Contributor: JohannesSM64 <johannes.a.langoy@gmail.com>
pkgname=jupp
pkgver=3.1jupp27
pkgrel=1
pkgdesc="An enhanced, portable version of joe, forked in 2004."
url="https://mirbsd.org/jupp.htm"
license=('custom:GPLv1')
depends=('glibc' 'ncurses')
arch=('i686' 'x86_64')
conflicts=('joe')
source=("http://www.mirbsd.org/MirOS/dist/jupp/joe-$pkgver.tgz")

md5sums=('752fd84a0efb6e84d4ad0facb4212fbf')
sha256sums=('80374fbd69c4b827ba33761c669dfcddab7222755bfb858600528bb8d6b98e6f')

backup=('etc/joe/jupprc' 
        'etc/joe/joerc' 
	'etc/joe/jmacsrc'
	'etc/joe/rjoerc'
	'etc/joe/jstarrc'
	'etc/joe/jpicorc')

build() {
	cd "$srcdir/$pkgname"
	
	sh configure --prefix=/usr --sysconfdir=/etc \
	             --disable-dependency-tracking --disable-termidx
	make
}

package() {
	cd "$srcdir/$pkgname"
	make "DESTDIR=$pkgdir" install
	install -D -m644 COPYING "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
}
